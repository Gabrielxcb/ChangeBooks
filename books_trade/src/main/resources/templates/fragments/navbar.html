<ul th:fragment="nav" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <li><a th:href="@{/}">Home</a></li>
    <li><a th:href="@{/livros}">Ver Livros</a></li>

    <li sec:authorize="isAuthenticated()"><a th:href="@{/livros/novo}">Cadastrar Livro</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/trocas}">Minhas Propostas</a></li>
    <li sec:authorize="isAuthenticated()"><a th:href="@{/admin}">Administração</a></li>

    <li sec:authorize="isAuthenticated()">
        <form th:action="@{/logout}" method="post" style="display:inline-block; margin:0; padding:0;">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <button type="submit" class="logout-button">
                Logout (<span sec:authentication="name"></span>)
            </button>
        </form>
    </li>

    <li sec:authorize="isAnonymous()">
        <a th:href="@{/auth/login}">Login</a>
    </li>
</ul>

