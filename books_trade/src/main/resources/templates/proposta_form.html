<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::body})}">
<body>
    <h2>Fazer Proposta de Troca</h2>
    <p>Você deseja o livro: <strong th:text="${livroDesejado.titulo}"></strong></p>
    <p>Que pertence a: <strong th:text="${livroDesejado.dono.nome}"></strong></p>
    <hr>
    
    <form th:action="@{/trocas}" th:object="${propostaDTO}" method="post">
        <input type="hidden" th:field="*{livroDesejadoId}" />
        <input type="hidden" th:field="*{destinatarioId}" />

        <div>
            <label for="remetenteId">Quem está propondo? (Você):</label>
            <select th:field="*{remetenteId}" id="remetenteId">
                <option value="">-- Selecione seu usuário --</option>
                <option th:each="usuario : ${todosUsuarios}"
                        th:value="${usuario.id}"
                        th:text="${usuario.nome}"></option>
            </select>
        </div>
        
        <div>
            <label for="livroOfertadoId">Qual livro você quer oferecer em troca?</label>
            <select th:field="*{livroOfertadoId}" id="livroOfertadoId">
                <option value="">-- Selecione um livro --</option>
                <option th:each="livro : ${todosLivros}"
                        th:value="${livro.id}"
                        th:text="${livro.titulo}"></option>
            </select>
        </div>

        <button type="submit">Enviar Proposta</button>
    </form>
</body>
</html>